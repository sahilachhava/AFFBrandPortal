<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Brand Digital Portal | The Food Fest</title>
<style>
    /* For Firefox */
    input[type='number'] {
        -moz-appearance:textfield;
    }
    /* Webkit browsers like Safari and Chrome */
    input[type=number]::-webkit-inner-spin-button,
    input[type=number]::-webkit-outer-spin-button {
        -webkit-appearance: none;
        margin: 0;
    }
</style>
<meta name="description" content="">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link rel="apple-touch-icon" sizes="180x180" href="assets/img/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="assets/img/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="assets/img/favicon-16x16.png">
<link rel="stylesheet" href="assets/vendors/css/base/bootstrap.min.css">
<link rel="stylesheet" href="assets/vendors/css/base/elisyam-1.5.min.css">
</head>
<body class="bg-white">

<div id="preloader">
<div class="canvas">
<img src="assets/img/logo.png" alt="logo" class="loader-logo">
<div class="spinner"></div>
</div>
</div>

<div class="container-fluid no-padding h-100">
<div class="row flex-row h-100 bg-white">
<div class="col-xl-8 col-lg-6 col-md-5 no-padding">
<div class="elisyam-bg background-01">
<div class="elisyam-overlay overlay-04"></div>
<div class="authentication-col-content mx-auto">

<center>
<h1 class="gradient-text-01">
Welcome To AFF Digital Portal!
</h1>
<span class="description">
A Step towards Digitalization  
</span>
</center>

</div>
</div>
</div>

<div class="col-xl-4 col-lg-6 col-md-7 my-auto no-padding">
<div class="authentication-form mx-auto">
<center>
<a href="index.html">
<img src="assets/img/logo.png" height="180px" width="270px" alt="logo">
</a>
</center>
<br><br><br>

<h3>Create your brand account</h3>
<form id="registerForm">
<div class="group material-input">
<input type="text" id="name" required>
<span class="highlight"></span>
<span class="bar"></span>
<label>Brand Name</label>
</div>
<div class="group material-input">
<input type="email" id="email" required>
<span class="highlight"></span>
<span class="bar"></span>
<label>Brand Email</label>
</div>
<div class="group material-input">
<input type="password" minlength="8" id="password" required>
<span class="highlight"></span>
<span class="bar"></span>
<label>Password (8 or more characters)</label>
</div>
<div class="row">
<div class="col text-left">
<div class="styled-checkbox">
<input type="checkbox" id="agree">
<label for="agree">I Accept <a href="http://bit.ly/2KAoT3g" target="_blank">AFF Terms and Conditions</a></label>
</div>
</div>
</div>
<div class="sign-btn text-center">
<input type="submit" value="Create an account" class="btn btn-lg btn-gradient-05" />
</div>
</form>
</div>
<div class="register">
Already have an account?
<br>
<a href="index.html">Sign In</a>
</div><br>
</div>
</div>
</div>
<script src="assets/vendors/js/base/jquery.min.js" type="8f5ee0218f4555aebc8a7d5b-text/javascript"></script>
<script src="assets/vendors/js/base/core.min.js" type="8f5ee0218f4555aebc8a7d5b-text/javascript"></script>
<script src="assets/vendors/js/app/app.min.js" type="8f5ee0218f4555aebc8a7d5b-text/javascript"></script>
<script src="assets/js/components/validation/validation.min.js" type="cb2a2d5144bfd9268feb7ed3-text/javascript"></script>
<script src="https://www.gstatic.com/firebasejs/7.2.3/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/7.2.3/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/7.2.3/firebase-firestore.js"></script>
<script src="https://www.gstatic.com/firebasejs/7.2.3/firebase-storage.js"></script>
<script src="firebase.js"></script>
<script>
  const form = document.querySelector('#registerForm');

  form.addEventListener('submit', (e)=>{
    e.preventDefault();
    const auth = firebase.auth()
   
    if(document.getElementById("agree").checked == false){
        alert("You must agree with our AFF Terms & Conditions");
      }else{
        var brandName = document.getElementById('name').value;
        sessionStorage.setItem("brandName", brandName);
        var email = document.getElementById('email').value;
        sessionStorage.setItem("brandEmail", email);
        var password = document.getElementById('password').value;
        sessionStorage.setItem("brandPassword", password);

        auth.createUserWithEmailAndPassword(email, password).then((result) => {
          result.user.updateProfile({
            displayName: brandName,
          })
          auth.currentUser.sendEmailVerification().then(function(){
            window.location.href = "mailConfirmation.html";
          })
          .catch(function (error) {
            alert(error.message);
          })
        })
        .catch((error) => {
            alert(error.message);
        })
      } 
    });
</script>
</html>